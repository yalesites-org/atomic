{% extends "@atomic/block/layout-builder/_layout-builder-block-template.twig" %}

{% block content %}

  {% if parentNode == 'post' or parentNode == 'event' %}
    {% set wrapped_image__width = "content" %}
  {% else %}
    {% set wrapped_image__width = "site" %}
  {% endif %}

  {% embed "@molecules/wrapped-image/yds-wrapped-image.twig" with {
    wrapped_image__style: content.field_style_variation.0['#markup'],
    wrapped_image__alignment: content.field_style_position.0['#markup'],
    wrapped_image__content: content.field_text.0,
    wrapped_image__caption: content.field_caption.0,
    wrapped_image__width: wrapped_image__width|default('content'),
  } %}

    {% block wrapped_image__image %}
      {{ content.field_media }}
    {% endblock %}

  {% endembed %}

{% endblock %}
