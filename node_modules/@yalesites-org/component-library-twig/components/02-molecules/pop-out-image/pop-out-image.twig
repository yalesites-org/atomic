{#
 # Available Props:
 # - pop_out_image__width
 #
 # Available Variables:
 # - pop_out_image__content
 #
 # Available Blocks:
 # - pop_out_image__image
 #}

{% set pop_out_image__base_class = 'pop-out-image' %}

{% set pop_out_image__attributes = {
  'data-component-width': pop_out_image__width|default('content'),
  'class': bem(pop_out_image__base_class),
} %}

{% set pop_out_image__image %}
  {% block pop_out_image__image %}
    {% include "@atoms/images/image/_responsive-image.twig" %}
  {% endblock %}
{% endset %}

<div {{ add_attributes(pop_out_image__attributes) }}>
  <div {{ bem('inner', [], pop_out_image__base_class) }}>
    {# Image #}
    <div {{ bem('image', [], pop_out_image__base_class) }}>
      {% embed "@atoms/images/image/image.twig" with {
        figure__caption: pop_out_image__caption,
      } %}
        {% block image__image %}
          {{ pop_out_image__image }}
        {% endblock %}
      {% endembed %}
    </div>
    {# Text #}
    {% include "@atoms/typography/text/text.twig" with {
      text__content: pop_out_image__content,
      text__blockname: pop_out_image__base_class,
    } %}
  </div>
</div>
