{#
 # Available Props:
 # - content_image__width
 #
 # Available Variables:
 # - content_image__caption
 #
 # Available Blocks:
 # - content_image__image
 #}

{% set content_image__base_class = 'content-image' %}

{% set content_image__attributes = {
  'data-component-width': content_image__width|default('content'),
  'class': bem(content_image__base_class),
} %}

{% set content_image__image %}
  {% block content_image__image %}
    {% include "@atoms/images/image/_responsive-image.twig" %}
  {% endblock %}
{% endset %}

<div {{ add_attributes(content_image__attributes) }}>
  <div {{ bem('inner', [], content_image__base_class) }}>
    {% embed "@atoms/images/image/image.twig" with {
      figure__caption: content_image__caption,
    } %}
      {% block image__image %}
        {{ content_image__image }}
      {% endblock %}
    {% endembed %}
  </div>
</div>
